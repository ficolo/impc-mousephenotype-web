{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = useDrag;\n\nvar _react = require(\"react\");\n\nvar _event = require(\"@visx/event\");\n\nvar _useStateWithCallback2 = _interopRequireDefault(require(\"./util/useStateWithCallback\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n/** Hook for dragging, returns a `UseDrag` object. */\n\n\nfunction useDrag(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$resetOnStart = _ref.resetOnStart,\n      resetOnStart = _ref$resetOnStart === void 0 ? false : _ref$resetOnStart,\n      onDragEnd = _ref.onDragEnd,\n      onDragMove = _ref.onDragMove,\n      onDragStart = _ref.onDragStart,\n      x = _ref.x,\n      y = _ref.y,\n      dx = _ref.dx,\n      dy = _ref.dy; // use ref to detect prop changes\n\n\n  var positionPropsRef = (0, _react.useRef)({\n    x: x,\n    y: y,\n    dx: dx,\n    dy: dy\n  });\n\n  var _useStateWithCallback = (0, _useStateWithCallback2.default)({\n    x: x,\n    y: y,\n    dx: dx != null ? dx : 0,\n    dy: dy != null ? dy : 0,\n    isDragging: false\n  }),\n      dragState = _useStateWithCallback[0],\n      setDragStateWithCallback = _useStateWithCallback[1]; // if prop position changes, update state\n\n\n  (0, _react.useEffect)(function () {\n    if (positionPropsRef.current.x !== x || positionPropsRef.current.y !== y || positionPropsRef.current.dx !== dx || positionPropsRef.current.dy !== dy) {\n      positionPropsRef.current = {\n        x: x,\n        y: y,\n        dx: dx,\n        dy: dy\n      };\n      setDragStateWithCallback(function (currState) {\n        return _extends({}, currState, {\n          x: x,\n          y: y,\n          dx: dx != null ? dx : 0,\n          dy: dy != null ? dy : 0\n        });\n      });\n    }\n  });\n  var handleDragStart = (0, _react.useCallback)(function (event) {\n    event.persist();\n    setDragStateWithCallback(function (currState) {\n      var point = (0, _event.localPoint)(event) || {\n        x: 0,\n        y: 0\n      };\n      return {\n        isDragging: true,\n        dx: resetOnStart ? 0 : currState.dx,\n        dy: resetOnStart ? 0 : currState.dy,\n        x: resetOnStart ? point.x : point.x - currState.dx,\n        y: resetOnStart ? point.y : point.y - currState.dy\n      };\n    }, onDragStart && function (currState) {\n      onDragStart(_extends({}, currState, {\n        event: event\n      }));\n    });\n  }, [onDragStart, resetOnStart, setDragStateWithCallback]);\n  var handleDragMove = (0, _react.useCallback)(function (event) {\n    event.persist();\n    setDragStateWithCallback(function (currState) {\n      var point = (0, _event.localPoint)(event) || {\n        x: 0,\n        y: 0\n      };\n      return currState.isDragging ? _extends({}, currState, {\n        isDragging: true,\n        dx: point.x - (currState.x || 0),\n        dy: point.y - (currState.y || 0)\n      }) : currState;\n    }, onDragMove && function (currState) {\n      if (currState.isDragging) onDragMove(_extends({}, currState, {\n        event: event\n      }));\n    });\n  }, [onDragMove, setDragStateWithCallback]);\n  var handleDragEnd = (0, _react.useCallback)(function (event) {\n    event.persist();\n    setDragStateWithCallback(function (currState) {\n      return _extends({}, currState, {\n        isDragging: false\n      });\n    }, onDragEnd && function (currState) {\n      onDragEnd(_extends({}, currState, {\n        event: event\n      }));\n    });\n  }, [onDragEnd, setDragStateWithCallback]);\n  return _extends({}, dragState, {\n    dragEnd: handleDragEnd,\n    dragMove: handleDragMove,\n    dragStart: handleDragStart\n  });\n}","map":{"version":3,"sources":["/Users/federico/git/test/impc-mousephenotype-web/node_modules/@visx/drag/lib/useDrag.js"],"names":["exports","__esModule","default","useDrag","_react","require","_event","_useStateWithCallback2","_interopRequireDefault","obj","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_temp","_ref","_ref$resetOnStart","resetOnStart","onDragEnd","onDragMove","onDragStart","x","y","dx","dy","positionPropsRef","useRef","_useStateWithCallback","isDragging","dragState","setDragStateWithCallback","useEffect","current","currState","handleDragStart","useCallback","event","persist","point","localPoint","handleDragMove","handleDragEnd","dragEnd","dragMove","dragStart"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = useDrag;\n\nvar _react = require(\"react\");\n\nvar _event = require(\"@visx/event\");\n\nvar _useStateWithCallback2 = _interopRequireDefault(require(\"./util/useStateWithCallback\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/** Hook for dragging, returns a `UseDrag` object. */\nfunction useDrag(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$resetOnStart = _ref.resetOnStart,\n      resetOnStart = _ref$resetOnStart === void 0 ? false : _ref$resetOnStart,\n      onDragEnd = _ref.onDragEnd,\n      onDragMove = _ref.onDragMove,\n      onDragStart = _ref.onDragStart,\n      x = _ref.x,\n      y = _ref.y,\n      dx = _ref.dx,\n      dy = _ref.dy;\n\n  // use ref to detect prop changes\n  var positionPropsRef = (0, _react.useRef)({\n    x: x,\n    y: y,\n    dx: dx,\n    dy: dy\n  });\n\n  var _useStateWithCallback = (0, _useStateWithCallback2.default)({\n    x: x,\n    y: y,\n    dx: dx != null ? dx : 0,\n    dy: dy != null ? dy : 0,\n    isDragging: false\n  }),\n      dragState = _useStateWithCallback[0],\n      setDragStateWithCallback = _useStateWithCallback[1]; // if prop position changes, update state\n\n\n  (0, _react.useEffect)(function () {\n    if (positionPropsRef.current.x !== x || positionPropsRef.current.y !== y || positionPropsRef.current.dx !== dx || positionPropsRef.current.dy !== dy) {\n      positionPropsRef.current = {\n        x: x,\n        y: y,\n        dx: dx,\n        dy: dy\n      };\n      setDragStateWithCallback(function (currState) {\n        return _extends({}, currState, {\n          x: x,\n          y: y,\n          dx: dx != null ? dx : 0,\n          dy: dy != null ? dy : 0\n        });\n      });\n    }\n  });\n  var handleDragStart = (0, _react.useCallback)(function (event) {\n    event.persist();\n    setDragStateWithCallback(function (currState) {\n      var point = (0, _event.localPoint)(event) || {\n        x: 0,\n        y: 0\n      };\n      return {\n        isDragging: true,\n        dx: resetOnStart ? 0 : currState.dx,\n        dy: resetOnStart ? 0 : currState.dy,\n        x: resetOnStart ? point.x : point.x - currState.dx,\n        y: resetOnStart ? point.y : point.y - currState.dy\n      };\n    }, onDragStart && function (currState) {\n      onDragStart(_extends({}, currState, {\n        event: event\n      }));\n    });\n  }, [onDragStart, resetOnStart, setDragStateWithCallback]);\n  var handleDragMove = (0, _react.useCallback)(function (event) {\n    event.persist();\n    setDragStateWithCallback(function (currState) {\n      var point = (0, _event.localPoint)(event) || {\n        x: 0,\n        y: 0\n      };\n      return currState.isDragging ? _extends({}, currState, {\n        isDragging: true,\n        dx: point.x - (currState.x || 0),\n        dy: point.y - (currState.y || 0)\n      }) : currState;\n    }, onDragMove && function (currState) {\n      if (currState.isDragging) onDragMove(_extends({}, currState, {\n        event: event\n      }));\n    });\n  }, [onDragMove, setDragStateWithCallback]);\n  var handleDragEnd = (0, _react.useCallback)(function (event) {\n    event.persist();\n    setDragStateWithCallback(function (currState) {\n      return _extends({}, currState, {\n        isDragging: false\n      });\n    }, onDragEnd && function (currState) {\n      onDragEnd(_extends({}, currState, {\n        event: event\n      }));\n    });\n  }, [onDragEnd, setDragStateWithCallback]);\n  return _extends({}, dragState, {\n    dragEnd: handleDragEnd,\n    dragMove: handleDragMove,\n    dragStart: handleDragStart\n  });\n}"]},"metadata":{},"sourceType":"script"}