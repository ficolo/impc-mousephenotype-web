{"ast":null,"code":"import _pt from \"prop-types\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useCallback, useRef } from 'react';\nimport debounce from 'lodash/debounce';\nimport { useTooltip } from '@visx/tooltip';\nimport TooltipContext from '../context/TooltipContext';\n/** Simple wrapper around useTooltip, to provide tooltip data via context. */\n\nexport default function TooltipProvider(_ref) {\n  var _ref$hideTooltipDebou = _ref.hideTooltipDebounceMs,\n      hideTooltipDebounceMs = _ref$hideTooltipDebou === void 0 ? 400 : _ref$hideTooltipDebou,\n      children = _ref.children;\n\n  var _useTooltip = useTooltip(undefined),\n      tooltipOpen = _useTooltip.tooltipOpen,\n      tooltipLeft = _useTooltip.tooltipLeft,\n      tooltipTop = _useTooltip.tooltipTop,\n      tooltipData = _useTooltip.tooltipData,\n      updateTooltip = _useTooltip.updateTooltip,\n      privateHideTooltip = _useTooltip.hideTooltip;\n\n  var debouncedHideTooltip = useRef(null);\n  var showTooltip = useRef(function (_ref2) {\n    var svgPoint = _ref2.svgPoint,\n        index = _ref2.index,\n        key = _ref2.key,\n        datum = _ref2.datum,\n        distanceX = _ref2.distanceX,\n        distanceY = _ref2.distanceY; // cancel any hideTooltip calls so it won't hide after invoking the logic below\n\n    if (debouncedHideTooltip.current) {\n      debouncedHideTooltip.current.cancel();\n      debouncedHideTooltip.current = null;\n    }\n\n    var distance = Math.sqrt((distanceX != null ? distanceX : Math.pow(Infinity, 2)) + (distanceY != null ? distanceY : Math.pow(Infinity, 2)));\n    updateTooltip(function (_ref3) {\n      var _currData$nearestDatu, _currData$nearestDatu2, _currData$nearestDatu3, _currData$nearestDatu4, _extends2;\n\n      var currData = _ref3.tooltipData;\n      return {\n        tooltipOpen: true,\n        tooltipLeft: svgPoint == null ? void 0 : svgPoint.x,\n        tooltipTop: svgPoint == null ? void 0 : svgPoint.y,\n        tooltipData: {\n          nearestDatum: ((_currData$nearestDatu = currData == null ? void 0 : (_currData$nearestDatu2 = currData.nearestDatum) == null ? void 0 : _currData$nearestDatu2.key) != null ? _currData$nearestDatu : '') !== key && ((_currData$nearestDatu3 = currData == null ? void 0 : (_currData$nearestDatu4 = currData.nearestDatum) == null ? void 0 : _currData$nearestDatu4.distance) != null ? _currData$nearestDatu3 : Infinity) < distance ? currData == null ? void 0 : currData.nearestDatum : {\n            key: key,\n            index: index,\n            datum: datum,\n            distance: distance\n          },\n          datumByKey: _extends({}, currData == null ? void 0 : currData.datumByKey, (_extends2 = {}, _extends2[key] = {\n            datum: datum,\n            index: index,\n            key: key\n          }, _extends2))\n        }\n      };\n    });\n  });\n  var hideTooltip = useCallback(function () {\n    debouncedHideTooltip.current = debounce(privateHideTooltip, hideTooltipDebounceMs);\n    debouncedHideTooltip.current();\n  }, [privateHideTooltip, hideTooltipDebounceMs]);\n  return /*#__PURE__*/React.createElement(TooltipContext.Provider, {\n    value: {\n      tooltipOpen: tooltipOpen,\n      tooltipLeft: tooltipLeft,\n      tooltipTop: tooltipTop,\n      tooltipData: tooltipData,\n      updateTooltip: updateTooltip,\n      showTooltip: showTooltip.current,\n      hideTooltip: hideTooltip\n    }\n  }, children);\n}\nTooltipProvider.propTypes = {\n  hideTooltipDebounceMs: _pt.number,\n  children: _pt.node.isRequired\n};","map":{"version":3,"sources":["/Users/federico/git/test/impc-mousephenotype-web/node_modules/@visx/xychart/esm/providers/TooltipProvider.js"],"names":["_pt","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useCallback","useRef","debounce","useTooltip","TooltipContext","TooltipProvider","_ref","_ref$hideTooltipDebou","hideTooltipDebounceMs","children","_useTooltip","undefined","tooltipOpen","tooltipLeft","tooltipTop","tooltipData","updateTooltip","privateHideTooltip","hideTooltip","debouncedHideTooltip","showTooltip","_ref2","svgPoint","index","datum","distanceX","distanceY","current","cancel","distance","Math","sqrt","pow","Infinity","_ref3","_currData$nearestDatu","_currData$nearestDatu2","_currData$nearestDatu3","_currData$nearestDatu4","_extends2","currData","x","y","nearestDatum","datumByKey","createElement","Provider","value","propTypes","number","node","isRequired"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useCallback, useRef } from 'react';\nimport debounce from 'lodash/debounce';\nimport { useTooltip } from '@visx/tooltip';\nimport TooltipContext from '../context/TooltipContext';\n\n/** Simple wrapper around useTooltip, to provide tooltip data via context. */\nexport default function TooltipProvider(_ref) {\n  var _ref$hideTooltipDebou = _ref.hideTooltipDebounceMs,\n      hideTooltipDebounceMs = _ref$hideTooltipDebou === void 0 ? 400 : _ref$hideTooltipDebou,\n      children = _ref.children;\n\n  var _useTooltip = useTooltip(undefined),\n      tooltipOpen = _useTooltip.tooltipOpen,\n      tooltipLeft = _useTooltip.tooltipLeft,\n      tooltipTop = _useTooltip.tooltipTop,\n      tooltipData = _useTooltip.tooltipData,\n      updateTooltip = _useTooltip.updateTooltip,\n      privateHideTooltip = _useTooltip.hideTooltip;\n\n  var debouncedHideTooltip = useRef(null);\n  var showTooltip = useRef(function (_ref2) {\n    var svgPoint = _ref2.svgPoint,\n        index = _ref2.index,\n        key = _ref2.key,\n        datum = _ref2.datum,\n        distanceX = _ref2.distanceX,\n        distanceY = _ref2.distanceY;\n\n    // cancel any hideTooltip calls so it won't hide after invoking the logic below\n    if (debouncedHideTooltip.current) {\n      debouncedHideTooltip.current.cancel();\n      debouncedHideTooltip.current = null;\n    }\n\n    var distance = Math.sqrt((distanceX != null ? distanceX : Math.pow(Infinity, 2)) + (distanceY != null ? distanceY : Math.pow(Infinity, 2)));\n    updateTooltip(function (_ref3) {\n      var _currData$nearestDatu, _currData$nearestDatu2, _currData$nearestDatu3, _currData$nearestDatu4, _extends2;\n\n      var currData = _ref3.tooltipData;\n      return {\n        tooltipOpen: true,\n        tooltipLeft: svgPoint == null ? void 0 : svgPoint.x,\n        tooltipTop: svgPoint == null ? void 0 : svgPoint.y,\n        tooltipData: {\n          nearestDatum: ((_currData$nearestDatu = currData == null ? void 0 : (_currData$nearestDatu2 = currData.nearestDatum) == null ? void 0 : _currData$nearestDatu2.key) != null ? _currData$nearestDatu : '') !== key && ((_currData$nearestDatu3 = currData == null ? void 0 : (_currData$nearestDatu4 = currData.nearestDatum) == null ? void 0 : _currData$nearestDatu4.distance) != null ? _currData$nearestDatu3 : Infinity) < distance ? currData == null ? void 0 : currData.nearestDatum : {\n            key: key,\n            index: index,\n            datum: datum,\n            distance: distance\n          },\n          datumByKey: _extends({}, currData == null ? void 0 : currData.datumByKey, (_extends2 = {}, _extends2[key] = {\n            datum: datum,\n            index: index,\n            key: key\n          }, _extends2))\n        }\n      };\n    });\n  });\n  var hideTooltip = useCallback(function () {\n    debouncedHideTooltip.current = debounce(privateHideTooltip, hideTooltipDebounceMs);\n    debouncedHideTooltip.current();\n  }, [privateHideTooltip, hideTooltipDebounceMs]);\n  return /*#__PURE__*/React.createElement(TooltipContext.Provider, {\n    value: {\n      tooltipOpen: tooltipOpen,\n      tooltipLeft: tooltipLeft,\n      tooltipTop: tooltipTop,\n      tooltipData: tooltipData,\n      updateTooltip: updateTooltip,\n      showTooltip: showTooltip.current,\n      hideTooltip: hideTooltip\n    }\n  }, children);\n}\nTooltipProvider.propTypes = {\n  hideTooltipDebounceMs: _pt.number,\n  children: _pt.node.isRequired\n};"]},"metadata":{},"sourceType":"module"}