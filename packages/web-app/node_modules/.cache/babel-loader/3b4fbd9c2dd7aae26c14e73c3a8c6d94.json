{"ast":null,"code":"import _pt from \"prop-types\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport Legend from './Legend';\nimport identity from '../util/identity'; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nvar formatZero = function formatZero(label) {\n  return label === 0 ? '0' : label || '';\n};\n/** Default transform implicitly assumes that Datum is of type number. */\n\n\nfunction defaultTransform(_ref) {\n  var labelDelimiter = _ref.labelDelimiter,\n      labelLower = _ref.labelLower,\n      labelUpper = _ref.labelUpper;\n  return function (_ref2) {\n    var scale = _ref2.scale,\n        labelFormat = _ref2.labelFormat;\n    var scaleRange = scale.range();\n    var scaleDomain = scale.domain();\n    return function (d, i) {\n      var _ref3 = scaleRange.length >= i ? scale.invertExtent(scaleRange[i]) : [undefined, undefined],\n          d0 = _ref3[0],\n          d1 = _ref3[1];\n\n      var delimiter = \" \" + labelDelimiter + \" \";\n      var text = '';\n      var value;\n\n      if (d0 == null && typeof d1 === 'number') {\n        // lower threshold e.g., [undefined, number]\n        delimiter = labelLower || delimiter;\n        value = d1 - 1;\n        text = \"\" + delimiter + formatZero(labelFormat(d1, i));\n      } else if (d0 != null && d1 != null) {\n        // threshold step\n        value = d;\n        text = \"\" + formatZero(labelFormat(d0, i)) + delimiter + formatZero(labelFormat(d1, i));\n      } else if (typeof d0 === 'number' && d1 == null) {\n        // upper threshold e.g., [number, undefined]\n        delimiter = labelUpper || delimiter;\n        value = d0 + scaleDomain[1]; // x0,x1 are from the domain, so the domain is numeric if d0 is\n\n        text = \"\" + delimiter + formatZero(labelFormat(d0, i));\n      }\n\n      return {\n        extent: [d0, d1],\n        value: scale(value || d),\n        text: text,\n        datum: d,\n        index: i\n      };\n    };\n  };\n}\n\nexport default function Threshold(_ref4) {\n  var scale = _ref4.scale,\n      inputDomain = _ref4.domain,\n      _ref4$labelFormat = _ref4.labelFormat,\n      labelFormat = _ref4$labelFormat === void 0 ? identity : _ref4$labelFormat,\n      inputLabelTransform = _ref4.labelTransform,\n      _ref4$labelDelimiter = _ref4.labelDelimiter,\n      labelDelimiter = _ref4$labelDelimiter === void 0 ? 'to' : _ref4$labelDelimiter,\n      _ref4$labelLower = _ref4.labelLower,\n      labelLower = _ref4$labelLower === void 0 ? 'Less than ' : _ref4$labelLower,\n      _ref4$labelUpper = _ref4.labelUpper,\n      labelUpper = _ref4$labelUpper === void 0 ? 'More than ' : _ref4$labelUpper,\n      restProps = _objectWithoutPropertiesLoose(_ref4, [\"scale\", \"domain\", \"labelFormat\", \"labelTransform\", \"labelDelimiter\", \"labelLower\", \"labelUpper\"]); // d3 docs specify that for n values in a domain, there should be n+1 values in the range\n  // https://github.com/d3/d3-scale#threshold_domain\n  // therefore if a domain is not specified we transform the range into input values\n  // because it should contain more elements\n\n\n  var domain = inputDomain || scale.range().map(function (output) {\n    return scale.invertExtent(output)[0];\n  });\n  var labelTransform = inputLabelTransform || defaultTransform({\n    labelDelimiter: labelDelimiter,\n    labelLower: labelLower,\n    labelUpper: labelUpper\n  });\n  return /*#__PURE__*/React.createElement(Legend, _extends({\n    scale: scale,\n    domain: domain,\n    labelFormat: labelFormat,\n    labelTransform: labelTransform\n  }, restProps));\n}\nThreshold.propTypes = {\n  labelDelimiter: _pt.string,\n  labelLower: _pt.string,\n  labelUpper: _pt.string\n};","map":{"version":3,"sources":["/Users/federico/git/test/impc-mousephenotype-web/node_modules/@visx/legend/esm/legends/Threshold.js"],"names":["_pt","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","Legend","identity","formatZero","label","defaultTransform","_ref","labelDelimiter","labelLower","labelUpper","_ref2","scale","labelFormat","scaleRange","range","scaleDomain","domain","d","_ref3","invertExtent","undefined","d0","d1","delimiter","text","value","extent","datum","index","Threshold","_ref4","inputDomain","_ref4$labelFormat","inputLabelTransform","labelTransform","_ref4$labelDelimiter","_ref4$labelLower","_ref4$labelUpper","restProps","map","output","createElement","propTypes","string"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport Legend from './Legend';\nimport identity from '../util/identity'; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nvar formatZero = function formatZero(label) {\n  return label === 0 ? '0' : label || '';\n};\n\n/** Default transform implicitly assumes that Datum is of type number. */\nfunction defaultTransform(_ref) {\n  var labelDelimiter = _ref.labelDelimiter,\n      labelLower = _ref.labelLower,\n      labelUpper = _ref.labelUpper;\n  return function (_ref2) {\n    var scale = _ref2.scale,\n        labelFormat = _ref2.labelFormat;\n    var scaleRange = scale.range();\n    var scaleDomain = scale.domain();\n    return function (d, i) {\n      var _ref3 = scaleRange.length >= i ? scale.invertExtent(scaleRange[i]) : [undefined, undefined],\n          d0 = _ref3[0],\n          d1 = _ref3[1];\n\n      var delimiter = \" \" + labelDelimiter + \" \";\n      var text = '';\n      var value;\n\n      if (d0 == null && typeof d1 === 'number') {\n        // lower threshold e.g., [undefined, number]\n        delimiter = labelLower || delimiter;\n        value = d1 - 1;\n        text = \"\" + delimiter + formatZero(labelFormat(d1, i));\n      } else if (d0 != null && d1 != null) {\n        // threshold step\n        value = d;\n        text = \"\" + formatZero(labelFormat(d0, i)) + delimiter + formatZero(labelFormat(d1, i));\n      } else if (typeof d0 === 'number' && d1 == null) {\n        // upper threshold e.g., [number, undefined]\n        delimiter = labelUpper || delimiter;\n        value = d0 + scaleDomain[1]; // x0,x1 are from the domain, so the domain is numeric if d0 is\n\n        text = \"\" + delimiter + formatZero(labelFormat(d0, i));\n      }\n\n      return {\n        extent: [d0, d1],\n        value: scale(value || d),\n        text: text,\n        datum: d,\n        index: i\n      };\n    };\n  };\n}\n\nexport default function Threshold(_ref4) {\n  var scale = _ref4.scale,\n      inputDomain = _ref4.domain,\n      _ref4$labelFormat = _ref4.labelFormat,\n      labelFormat = _ref4$labelFormat === void 0 ? identity : _ref4$labelFormat,\n      inputLabelTransform = _ref4.labelTransform,\n      _ref4$labelDelimiter = _ref4.labelDelimiter,\n      labelDelimiter = _ref4$labelDelimiter === void 0 ? 'to' : _ref4$labelDelimiter,\n      _ref4$labelLower = _ref4.labelLower,\n      labelLower = _ref4$labelLower === void 0 ? 'Less than ' : _ref4$labelLower,\n      _ref4$labelUpper = _ref4.labelUpper,\n      labelUpper = _ref4$labelUpper === void 0 ? 'More than ' : _ref4$labelUpper,\n      restProps = _objectWithoutPropertiesLoose(_ref4, [\"scale\", \"domain\", \"labelFormat\", \"labelTransform\", \"labelDelimiter\", \"labelLower\", \"labelUpper\"]);\n\n  // d3 docs specify that for n values in a domain, there should be n+1 values in the range\n  // https://github.com/d3/d3-scale#threshold_domain\n  // therefore if a domain is not specified we transform the range into input values\n  // because it should contain more elements\n  var domain = inputDomain || scale.range().map(function (output) {\n    return scale.invertExtent(output)[0];\n  });\n  var labelTransform = inputLabelTransform || defaultTransform({\n    labelDelimiter: labelDelimiter,\n    labelLower: labelLower,\n    labelUpper: labelUpper\n  });\n  return /*#__PURE__*/React.createElement(Legend, _extends({\n    scale: scale,\n    domain: domain,\n    labelFormat: labelFormat,\n    labelTransform: labelTransform\n  }, restProps));\n}\nThreshold.propTypes = {\n  labelDelimiter: _pt.string,\n  labelLower: _pt.string,\n  labelUpper: _pt.string\n};"]},"metadata":{},"sourceType":"module"}