{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport { scaleOrdinal } from \"@visx/scale\";\nimport { AnimatedAxis, AnimatedGrid, XYChart, Tooltip, AnimatedGlyphSeries, buildChartTheme, AnimatedLineSeries } from \"@visx/xychart\";\nimport { LegendItem, LegendLabel, LegendOrdinal } from \"@visx/legend\";\nimport { GlyphCircle, GlyphSquare, GlyphTriangle } from \"@visx/glyph\";\nimport \"./ScatterPlot.css\";\nimport { ParentSize } from \"@visx/responsive\";\nvar legendGlyphSize = 20;\nvar accessors = {\n  xAccessor: function (d) {\n    return d ? new Date(d.x) : new Date();\n  },\n  yAccessor: function (d) {\n    return d.y;\n  }\n};\nexport var ScatterPlot = function (props) {\n  var xAxisLabel = props.xAxisLabel,\n      yAxisLabel = props.yAxisLabel,\n      series = props.series,\n      window = props.window;\n  var seriesNames = series.map(function (_a) {\n    var seriesName = _a.seriesName;\n    return seriesName;\n  });\n\n  if (window) {\n    seriesNames.push(\"Window\");\n  }\n\n  var _a = useState(seriesNames),\n      activeSeries = _a[0],\n      setActiveSeries = _a[1];\n\n  var colorScale = scaleOrdinal({\n    domain: seriesNames,\n    range: seriesNames.map(function (seriesName) {\n      if (seriesName === \"Window\") {\n        return \"rgba(124, 124, 124, 0.5)\";\n      } else if (seriesName.includes(\"WT\")) {\n        return \"rgba(9, 120, 161, 0.5)\";\n      }\n\n      return \"rgba(239, 123, 11, 0.5)\";\n    })\n  });\n  var shapeScale = scaleOrdinal({\n    domain: seriesNames,\n    range: seriesNames.map(function (seriesName) {\n      if (seriesName === \"Window\") {\n        return _jsx(GlyphSquare, {\n          fill: colorScale(seriesName),\n          stroke: colorScale(seriesName)\n        }, seriesName);\n      }\n\n      if (seriesName.includes(\"Female\")) {\n        return _jsx(GlyphCircle, {\n          fill: colorScale(seriesName),\n          stroke: colorScale(seriesName)\n        }, seriesName);\n      } else {\n        return _jsx(GlyphTriangle, {\n          fill: colorScale(seriesName),\n          stroke: colorScale(seriesName)\n        }, seriesName);\n      }\n    })\n  });\n  var customTheme = buildChartTheme({\n    backgroundColor: \"white\",\n    colors: colorScale.range(),\n    tickLength: 5,\n    gridColor: \"gray\",\n    gridColorDark: \"\",\n    gridStyles: {\n      strokeWidth: 1\n    }\n  });\n  return _jsxs(\"div\", {\n    children: [_jsx(ParentSize, {\n      children: function (parent) {\n        return _jsxs(XYChart, __assign({\n          height: 300,\n          width: parent.width - 20,\n          xScale: {\n            type: \"time\",\n            clamp: true,\n            nice: true\n          },\n          yScale: {\n            type: \"linear\",\n            nice: true\n          },\n          theme: customTheme\n        }, {\n          children: [_jsx(AnimatedAxis, {\n            orientation: \"bottom\",\n            label: xAxisLabel,\n            hideZero: true\n          }, void 0), _jsx(AnimatedAxis, {\n            orientation: \"left\",\n            label: yAxisLabel,\n            hideZero: true\n          }, void 0), _jsx(AnimatedGrid, {\n            columns: false,\n            numTicks: 4,\n            lineStyle: {\n              strokeWidth: \"1px\",\n              stroke: \"lightgray\"\n            }\n          }, void 0), series.map(function (series) {\n            return _jsx(AnimatedGlyphSeries, __assign({\n              dataKey: series.seriesName,\n              data: activeSeries.includes(series.seriesName) ? series.data : []\n            }, accessors, {\n              renderGlyph: function () {\n                return shapeScale(series.seriesName);\n              }\n            }), series.seriesName);\n          }), window ? _jsx(AnimatedLineSeries, __assign({\n            dataKey: \"Window\",\n            data: activeSeries.includes(\"Window\") ? window : [],\n            stroke: colorScale(\"Window\")\n          }, accessors), void 0) : null, _jsx(Tooltip, {\n            snapTooltipToDatumX: true,\n            snapTooltipToDatumY: true,\n            showDatumGlyph: true,\n            showVerticalCrosshair: true,\n            renderTooltip: function (_a) {\n              var _b;\n\n              var tooltipData = _a.tooltipData,\n                  colorScale = _a.colorScale;\n\n              if (((_b = tooltipData === null || tooltipData === void 0 ? void 0 : tooltipData.nearestDatum) === null || _b === void 0 ? void 0 : _b.key) === \"Window\") {\n                return;\n              }\n\n              if (tooltipData && tooltipData.nearestDatum && tooltipData.nearestDatum.datum && colorScale) {\n                return _jsxs(\"div\", {\n                  children: [_jsx(\"div\", __assign({\n                    style: {\n                      color: colorScale(tooltipData.nearestDatum.key)\n                    }\n                  }, {\n                    children: tooltipData.nearestDatum.key\n                  }), void 0), accessors.xAccessor(tooltipData.nearestDatum.datum).toDateString(), \", \", accessors.yAccessor(tooltipData.nearestDatum.datum)]\n                }, void 0);\n              }\n\n              return;\n            }\n          }, void 0)]\n        }), void 0);\n      }\n    }, void 0), _jsx(\"div\", __assign({\n      style: {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        fontSize: \"14px\"\n      }\n    }, {\n      children: _jsx(LegendOrdinal, __assign({\n        scale: shapeScale,\n        direction: \"row\",\n        shapeHeight: legendGlyphSize,\n        shapeWidth: legendGlyphSize,\n        labelMargin: \"10px\",\n        labelAlign: \"center\"\n      }, {\n        children: function (labels) {\n          return labels.map(function (label) {\n            var shape = shapeScale(label.datum);\n            var isValidElement = React.isValidElement(shape);\n            var color = colorScale(label.datum);\n            var legendGlyphConfig = {\n              fill: activeSeries.includes(label.text) ? color : \"#ffffff\",\n              top: legendGlyphSize / 2,\n              left: legendGlyphSize / 2\n            };\n            return _jsxs(LegendItem, __assign({\n              onClick: function () {\n                if (activeSeries.includes(label.text)) {\n                  setActiveSeries(activeSeries.filter(function (s) {\n                    return s !== label.text;\n                  }));\n                } else {\n                  setActiveSeries(activeSeries.concat([label.text]));\n                }\n              }\n            }, {\n              children: [_jsx(\"svg\", __assign({\n                width: legendGlyphSize,\n                height: legendGlyphSize,\n                cursor: \"pointer\"\n              }, {\n                children: isValidElement ? React.cloneElement(shape, legendGlyphConfig) : React.createElement(shape, legendGlyphConfig)\n              }), void 0), _jsx(LegendLabel, __assign({\n                className: activeSeries.includes(label.text) ? \"text-dark\" : \"text-muted\",\n                style: {\n                  cursor: \"pointer\"\n                }\n              }, {\n                children: label.text\n              }), void 0)]\n            }), label.text);\n          });\n        }\n      }), void 0)\n    }), void 0)]\n  }, void 0);\n};","map":{"version":3,"sources":["../../src/charts/ScatterPlot.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,OAAO,KAAP,IAAiD,QAAjD,QAAiE,OAAjE;AACA,SAAS,YAAT,QAA6B,aAA7B;AACA,SACE,YADF,EAEE,YAFF,EAGE,OAHF,EAIE,OAJF,EAKE,mBALF,EAME,eANF,EAOE,kBAPF,QAQO,eARP;AASA,SAAS,UAAT,EAAqB,WAArB,EAAkC,aAAlC,QAAuD,cAAvD;AACA,SAAS,WAAT,EAAsB,WAAtB,EAAmC,aAAnC,QAAwD,aAAxD;AAGA,OAAO,mBAAP;AACA,SAAS,UAAT,QAA2B,kBAA3B;AAYA,IAAM,eAAe,GAAG,EAAxB;AAeA,IAAM,SAAS,GAAG;AAChB,EAAA,SAAS,EAAE,UAAC,CAAD,EAAc;AAAK,WAAC,CAAC,GAAG,IAAI,IAAJ,CAAS,CAAC,CAAC,CAAX,CAAH,GAAmB,IAArB,IAAqB,EAArB;AAAgC,GAD9C;AAEhB,EAAA,SAAS,EAAE,UAAC,CAAD,EAAc;AAAK,WAAA,CAAC,CAAD,CAAA;AAAG;AAFjB,CAAlB;AAKA,OAAO,IAAM,WAAW,GAAyC,UAAC,KAAD,EAAM;AAC7D,MAAA,UAAU,GAAiC,KAAK,CAAtC,UAAV;AAAA,MAAY,UAAU,GAAqB,KAAK,CAA1B,UAAtB;AAAA,MAAwB,MAAM,GAAa,KAAK,CAAlB,MAA9B;AAAA,MAAgC,MAAM,GAAK,KAAK,CAAV,MAAtC;AACR,MAAM,WAAW,GAAG,MAAM,CAAC,GAAP,CAAW,UAAC,EAAD,EAAe;QAAZ,UAAU,GAAA,EAAA,CAAA,U;AAAO,WAAA,UAAA;AAAU,GAAzC,CAApB;;AACA,MAAI,MAAJ,EAAY;AACV,IAAA,WAAW,CAAC,IAAZ,CAAiB,QAAjB;AACD;;AAEK,MAAA,EAAA,GAAkC,QAAQ,CAAW,WAAX,CAA1C;AAAA,MAAC,YAAY,GAAA,EAAA,CAAA,CAAA,CAAb;AAAA,MAAe,eAAe,GAAA,EAAA,CAAA,CAAA,CAA9B;;AAEN,MAAM,UAAU,GAAG,YAAY,CAAC;AAC9B,IAAA,MAAM,EAAE,WADsB;AAE9B,IAAA,KAAK,EAAE,WAAW,CAAC,GAAZ,CAAgB,UAAC,UAAD,EAAW;AAChC,UAAI,UAAU,KAAK,QAAnB,EAA6B;AAC3B,eAAO,0BAAP;AACD,OAFD,MAEO,IAAI,UAAU,CAAC,QAAX,CAAoB,IAApB,CAAJ,EAA+B;AACpC,eAAO,wBAAP;AACD;;AACD,aAAO,yBAAP;AACD,KAPM;AAFuB,GAAD,CAA/B;AAYA,MAAM,UAAU,GAAG,YAAY,CAAqC;AAClE,IAAA,MAAM,EAAE,WAD0D;AAElE,IAAA,KAAK,EAAE,WAAW,CAAC,GAAZ,CAAgB,UAAC,UAAD,EAAW;AAChC,UAAI,UAAU,KAAK,QAAnB,EAA6B;AAC3B,eACE,IAAA,CAAC,WAAD,EAAY;AAEV,UAAA,IAAI,EAAE,UAAU,CAAC,UAAD,CAFN;AAGV,UAAA,MAAM,EAAE,UAAU,CAAC,UAAD;AAHR,SAAZ,EACO,UADP,CADF;AAOD;;AACD,UAAI,UAAU,CAAC,QAAX,CAAoB,QAApB,CAAJ,EAAmC;AACjC,eACE,IAAA,CAAC,WAAD,EAAY;AAEV,UAAA,IAAI,EAAE,UAAU,CAAC,UAAD,CAFN;AAGV,UAAA,MAAM,EAAE,UAAU,CAAC,UAAD;AAHR,SAAZ,EACO,UADP,CADF;AAOD,OARD,MAQO;AACL,eACE,IAAA,CAAC,aAAD,EAAc;AAEZ,UAAA,IAAI,EAAE,UAAU,CAAC,UAAD,CAFJ;AAGZ,UAAA,MAAM,EAAE,UAAU,CAAC,UAAD;AAHN,SAAd,EACO,UADP,CADF;AAOD;AACF,KA3BM;AAF2D,GAArC,CAA/B;AAgCA,MAAM,WAAW,GAAG,eAAe,CAAC;AAElC,IAAA,eAAe,EAAE,OAFiB;AAGlC,IAAA,MAAM,EAAE,UAAU,CAAC,KAAX,EAH0B;AAIlC,IAAA,UAAU,EAAE,CAJsB;AAOlC,IAAA,SAAS,EAAE,MAPuB;AAQlC,IAAA,aAAa,EAAE,EARmB;AASlC,IAAA,UAAU,EAAE;AACV,MAAA,WAAW,EAAE;AADH;AATsB,GAAD,CAAnC;AAsBA,SACE,KAAA,CAAA,KAAA,EAAA;AAAA,IAAA,QAAA,EAAA,CACE,IAAA,CAAC,UAAD,EAAW;AAAA,MAAA,QAAA,EACR,UAAC,MAAD,EAAO;AACN,eACE,KAAA,CAAC,OAAD,EAAQ,QAAA,CAAA;AACN,UAAA,MAAM,EAAE,GADF;AAEN,UAAA,KAAK,EAAE,MAAM,CAAC,KAAP,GAAe,EAFhB;AAGN,UAAA,MAAM,EAAE;AACN,YAAA,IAAI,EAAE,MADA;AAEN,YAAA,KAAK,EAAE,IAFD;AAGN,YAAA,IAAI,EAAE;AAHA,WAHF;AASN,UAAA,MAAM,EAAE;AAAE,YAAA,IAAI,EAAE,QAAR;AAAkB,YAAA,IAAI,EAAE;AAAxB,WATF;AAUN,UAAA,KAAK,EAAE;AAVD,SAAA,EAUY;AAAA,UAAA,QAAA,EAAA,CAElB,IAAA,CAAC,YAAD,EAAa;AAAC,YAAA,WAAW,EAAC,QAAb;AAAsB,YAAA,KAAK,EAAE,UAA7B;AAAyC,YAAA,QAAQ,EAAA;AAAjD,WAAb,EAA8D,KAAA,CAA9D,CAFkB,EAGlB,IAAA,CAAC,YAAD,EAAa;AAAC,YAAA,WAAW,EAAC,MAAb;AAAoB,YAAA,KAAK,EAAE,UAA3B;AAAuC,YAAA,QAAQ,EAAA;AAA/C,WAAb,EAA4D,KAAA,CAA5D,CAHkB,EAIlB,IAAA,CAAC,YAAD,EAAa;AACX,YAAA,OAAO,EAAE,KADE;AAEX,YAAA,QAAQ,EAAE,CAFC;AAGX,YAAA,SAAS,EAAE;AAAE,cAAA,WAAW,EAAE,KAAf;AAAsB,cAAA,MAAM,EAAE;AAA9B;AAHA,WAAb,EAGwD,KAAA,CAHxD,CAJkB,EASjB,MAAM,CAAC,GAAP,CAAW,UAAC,MAAD,EAAO;AAAK,mBACtB,IAAA,CAAC,mBAAD,EAAoB,QAAA,CAAA;AAElB,cAAA,OAAO,EAAE,MAAM,CAAC,UAFE;AAGlB,cAAA,IAAI,EACF,YAAY,CAAC,QAAb,CAAsB,MAAM,CAAC,UAA7B,IAA2C,MAAM,CAAC,IAAlD,GAAyD;AAJzC,aAAA,EAMd,SANc,EAML;AACb,cAAA,WAAW,EAAE,YAAA;AACX,uBAAA,UAAU,CAAC,MAAM,CAAC,UAAR,CAAV;AAA6C;AAFlC,aANK,CAApB,EACO,MAAM,CAFS,UACtB,CADsB;AAYvB,WAZA,CATiB,EAuBjB,MAAM,GACL,IAAA,CAAC,kBAAD,EAAmB,QAAA,CAAA;AACjB,YAAA,OAAO,EAAC,QADS;AAEjB,YAAA,IAAI,EAAE,YAAY,CAAC,QAAb,CAAsB,QAAtB,IAAkC,MAAlC,GAA2C,EAFhC;AAGjB,YAAA,MAAM,EAAE,UAAU,CAAC,QAAD;AAHD,WAAA,EAIb,SAJa,CAAnB,EAIe,KAAA,CAJf,CADK,GAOH,IA9Bc,EAgClB,IAAA,CAAC,OAAD,EAAQ;AACN,YAAA,mBAAmB,EAAA,IADb;AAEN,YAAA,mBAAmB,EAAA,IAFb;AAGN,YAAA,cAAc,EAAA,IAHR;AAIN,YAAA,qBAAqB,EAAA,IAJf;AAKN,YAAA,aAAa,EAAE,UAAC,EAAD,EAA4B;;;kBAAzB,WAAW,GAAA,EAAA,CAAA,W;kBAAE,UAAU,GAAA,EAAA,CAAA,U;;AACvC,kBAAI,CAAA,CAAA,EAAA,GAAA,WAAW,KAAA,IAAX,IAAA,WAAW,KAAA,KAAA,CAAX,GAAW,KAAA,CAAX,GAAA,WAAW,CAAE,YAAb,MAAyB,IAAzB,IAAyB,EAAA,KAAA,KAAA,CAAzB,GAAyB,KAAA,CAAzB,GAAyB,EAAA,CAAE,GAA3B,MAAmC,QAAvC,EAAiD;AAC/C;AACD;;AAED,kBACE,WAAW,IACX,WAAW,CAAC,YADZ,IAEA,WAAW,CAAC,YAAZ,CAAyB,KAFzB,IAGA,UAJF,EAKE;AACA,uBACE,KAAA,CAAA,KAAA,EAAA;AAAA,kBAAA,QAAA,EAAA,CACE,IAAA,CAAA,KAAA,EAAA,QAAA,CAAA;AACE,oBAAA,KAAK,EAAE;AACL,sBAAA,KAAK,EAAE,UAAU,CAAC,WAAW,CAAC,YAAZ,CAAyB,GAA1B;AADZ;AADT,mBAAA,EAGG;AAAA,oBAAA,QAAA,EAEA,WAAW,CAAC,YAAZ,CAAyB;AAFzB,mBAHH,CAAA,EAK+B,KAAA,CAL/B,CADF,EAQG,SAAS,CACP,SADF,CAEG,WAAW,CAAC,YAAZ,CAAyB,KAF5B,EAIE,YAJF,EARH,EAaG,IAbH,EAcG,SAAS,CAAC,SAAV,CACC,WAAW,CAAC,YAAZ,CAAyB,KAD1B,CAdH;AAAA,iBAAA,EAgBG,KAAA,CAhBH,CADF;AAoBD;;AACD;AACD;AAtCK,WAAR,EAsCG,KAAA,CAtCH,CAhCkB;AAAA,SAVZ,CAAR,EAiFI,KAAA,CAjFJ,CADF;AAqFD;AAvFQ,KAAX,EAuFG,KAAA,CAvFH,CADF,EA0FE,IAAA,CAAA,KAAA,EAAA,QAAA,CAAA;AACE,MAAA,KAAK,EAAE;AACL,QAAA,KAAK,EAAE,MADF;AAEL,QAAA,OAAO,EAAE,MAFJ;AAGL,QAAA,cAAc,EAAE,QAHX;AAIL,QAAA,QAAQ,EAAE;AAJL;AADT,KAAA,EAMG;AAAA,MAAA,QAAA,EAED,IAAA,CAAC,aAAD,EAAc,QAAA,CAAA;AACZ,QAAA,KAAK,EAAE,UADK;AAEZ,QAAA,SAAS,EAAC,KAFE;AAGZ,QAAA,WAAW,EAAE,eAHD;AAIZ,QAAA,UAAU,EAAE,eAJA;AAKZ,QAAA,WAAW,EAAC,MALA;AAMZ,QAAA,UAAU,EAAC;AANC,OAAA,EAMO;AAAA,QAAA,QAAA,EAElB,UAAC,MAAD,EAAO;AACN,iBAAA,MAAM,CAAC,GAAP,CAAW,UAAC,KAAD,EAAM;AACf,gBAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,KAAP,CAAxB;AACA,gBAAM,cAAc,GAAG,KAAK,CAAC,cAAN,CAAqB,KAArB,CAAvB;AACA,gBAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,KAAP,CAAxB;AACA,gBAAM,iBAAiB,GAAG;AACxB,cAAA,IAAI,EAAE,YAAY,CAAC,QAAb,CAAsB,KAAK,CAAC,IAA5B,IAAoC,KAApC,GAA4C,SAD1B;AAExB,cAAA,GAAG,EAAE,eAAe,GAAG,CAFC;AAGxB,cAAA,IAAI,EAAE,eAAe,GAAG;AAHA,aAA1B;AAKA,mBACE,KAAA,CAAC,UAAD,EAAW,QAAA,CAAA;AAET,cAAA,OAAO,EAAE,YAAA;AACP,oBAAI,YAAY,CAAC,QAAb,CAAsB,KAAK,CAAC,IAA5B,CAAJ,EAAuC;AACrC,kBAAA,eAAe,CACb,YAAY,CAAC,MAAb,CAAoB,UAAC,CAAD,EAAE;AAAK,2BAAA,CAAC,KAAK,KAAK,CAAX,IAAA;AAAgB,mBAA3C,CADa,CAAf;AAGD,iBAJD,MAIO;AACL,kBAAA,eAAe,CAAC,YAAY,CAAC,MAAb,CAAoB,CAAC,KAAK,CAAC,IAAP,CAApB,CAAD,CAAf;AACD;AACF;AAVQ,aAAA,EAUR;AAAA,cAAA,QAAA,EAAA,CAED,IAAA,CAAA,KAAA,EAAA,QAAA,CAAA;AACE,gBAAA,KAAK,EAAE,eADT;AAEE,gBAAA,MAAM,EAAE,eAFV;AAGE,gBAAA,MAAM,EAAC;AAHT,eAAA,EAGkB;AAAA,gBAAA,QAAA,EAEf,cAAc,GACX,KAAK,CAAC,YAAN,CACE,KADF,EAME,iBANF,CADW,GASX,KAAK,CAAC,aAAN,CACE,KADF,EAME,iBANF;AAXY,eAHlB,CAAA,EAqBO,KAAA,CArBP,CAFC,EAyBD,IAAA,CAAC,WAAD,EAAY,QAAA,CAAA;AACV,gBAAA,SAAS,EACP,YAAY,CAAC,QAAb,CAAsB,KAAK,CAAC,IAA5B,IACI,WADJ,GAEI,YAJI;AAMV,gBAAA,KAAK,EAAE;AAAE,kBAAA,MAAM,EAAE;AAAV;AANG,eAAA,EAMkB;AAAA,gBAAA,QAAA,EAE3B,KAAK,CAAC;AAFqB,eANlB,CAAZ,EAQa,KAAA,CARb,CAzBC;AAAA,aAVQ,CAAX,EACO,KAAK,CAAC,IADb,CADF;AAgDD,WAzDD,CAAA;AAyDE;AA5De,OANP,CAAd,EAkEM,KAAA,CAlEN;AAFC,KANH,CAAA,EA4EkB,KAAA,CA5ElB,CA1FF;AAAA,GAAA,EAuKQ,KAAA,CAvKR,CADF;AA2KD,CAtPM","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport { scaleOrdinal } from \"@visx/scale\";\nimport { AnimatedAxis, AnimatedGrid, XYChart, Tooltip, AnimatedGlyphSeries, buildChartTheme, AnimatedLineSeries, } from \"@visx/xychart\";\nimport { LegendItem, LegendLabel, LegendOrdinal } from \"@visx/legend\";\nimport { GlyphCircle, GlyphSquare, GlyphTriangle } from \"@visx/glyph\";\nimport \"./ScatterPlot.css\";\nimport { ParentSize } from \"@visx/responsive\";\nvar legendGlyphSize = 20;\nvar accessors = {\n    xAccessor: function (d) { return (d ? new Date(d.x) : new Date()); },\n    yAccessor: function (d) { return d.y; },\n};\nexport var ScatterPlot = function (props) {\n    var xAxisLabel = props.xAxisLabel, yAxisLabel = props.yAxisLabel, series = props.series, window = props.window;\n    var seriesNames = series.map(function (_a) {\n        var seriesName = _a.seriesName;\n        return seriesName;\n    });\n    if (window) {\n        seriesNames.push(\"Window\");\n    }\n    var _a = useState(seriesNames), activeSeries = _a[0], setActiveSeries = _a[1];\n    var colorScale = scaleOrdinal({\n        domain: seriesNames,\n        range: seriesNames.map(function (seriesName) {\n            if (seriesName === \"Window\") {\n                return \"rgba(124, 124, 124, 0.5)\";\n            }\n            else if (seriesName.includes(\"WT\")) {\n                return \"rgba(9, 120, 161, 0.5)\";\n            }\n            return \"rgba(239, 123, 11, 0.5)\";\n        }),\n    });\n    var shapeScale = scaleOrdinal({\n        domain: seriesNames,\n        range: seriesNames.map(function (seriesName) {\n            if (seriesName === \"Window\") {\n                return (_jsx(GlyphSquare, { fill: colorScale(seriesName), stroke: colorScale(seriesName) }, seriesName));\n            }\n            if (seriesName.includes(\"Female\")) {\n                return (_jsx(GlyphCircle, { fill: colorScale(seriesName), stroke: colorScale(seriesName) }, seriesName));\n            }\n            else {\n                return (_jsx(GlyphTriangle, { fill: colorScale(seriesName), stroke: colorScale(seriesName) }, seriesName));\n            }\n        }),\n    });\n    var customTheme = buildChartTheme({\n        backgroundColor: \"white\",\n        colors: colorScale.range(),\n        tickLength: 5,\n        gridColor: \"gray\",\n        gridColorDark: \"\",\n        gridStyles: {\n            strokeWidth: 1,\n        },\n    });\n    return (_jsxs(\"div\", { children: [_jsx(ParentSize, { children: function (parent) {\n                    return (_jsxs(XYChart, __assign({ height: 300, width: parent.width - 20, xScale: {\n                            type: \"time\",\n                            clamp: true,\n                            nice: true,\n                        }, yScale: { type: \"linear\", nice: true }, theme: customTheme }, { children: [_jsx(AnimatedAxis, { orientation: \"bottom\", label: xAxisLabel, hideZero: true }, void 0),\n                            _jsx(AnimatedAxis, { orientation: \"left\", label: yAxisLabel, hideZero: true }, void 0),\n                            _jsx(AnimatedGrid, { columns: false, numTicks: 4, lineStyle: { strokeWidth: \"1px\", stroke: \"lightgray\" } }, void 0),\n                            series.map(function (series) { return (_jsx(AnimatedGlyphSeries, __assign({ dataKey: series.seriesName, data: activeSeries.includes(series.seriesName) ? series.data : [] }, accessors, { renderGlyph: function () {\n                                    return shapeScale(series.seriesName);\n                                } }), series.seriesName)); }),\n                            window ? (_jsx(AnimatedLineSeries, __assign({ dataKey: \"Window\", data: activeSeries.includes(\"Window\") ? window : [], stroke: colorScale(\"Window\") }, accessors), void 0)) : null,\n                            _jsx(Tooltip, { snapTooltipToDatumX: true, snapTooltipToDatumY: true, showDatumGlyph: true, showVerticalCrosshair: true, renderTooltip: function (_a) {\n                                    var _b;\n                                    var tooltipData = _a.tooltipData, colorScale = _a.colorScale;\n                                    if (((_b = tooltipData === null || tooltipData === void 0 ? void 0 : tooltipData.nearestDatum) === null || _b === void 0 ? void 0 : _b.key) === \"Window\") {\n                                        return;\n                                    }\n                                    if (tooltipData &&\n                                        tooltipData.nearestDatum &&\n                                        tooltipData.nearestDatum.datum &&\n                                        colorScale) {\n                                        return (_jsxs(\"div\", { children: [_jsx(\"div\", __assign({ style: {\n                                                        color: colorScale(tooltipData.nearestDatum.key),\n                                                    } }, { children: tooltipData.nearestDatum.key }), void 0),\n                                                accessors\n                                                    .xAccessor(tooltipData.nearestDatum.datum)\n                                                    .toDateString(), \", \", accessors.yAccessor(tooltipData.nearestDatum.datum)] }, void 0));\n                                    }\n                                    return;\n                                } }, void 0)] }), void 0));\n                } }, void 0),\n            _jsx(\"div\", __assign({ style: {\n                    width: \"100%\",\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    fontSize: \"14px\",\n                } }, { children: _jsx(LegendOrdinal, __assign({ scale: shapeScale, direction: \"row\", shapeHeight: legendGlyphSize, shapeWidth: legendGlyphSize, labelMargin: \"10px\", labelAlign: \"center\" }, { children: function (labels) {\n                        return labels.map(function (label) {\n                            var shape = shapeScale(label.datum);\n                            var isValidElement = React.isValidElement(shape);\n                            var color = colorScale(label.datum);\n                            var legendGlyphConfig = {\n                                fill: activeSeries.includes(label.text) ? color : \"#ffffff\",\n                                top: legendGlyphSize / 2,\n                                left: legendGlyphSize / 2,\n                            };\n                            return (_jsxs(LegendItem, __assign({ onClick: function () {\n                                    if (activeSeries.includes(label.text)) {\n                                        setActiveSeries(activeSeries.filter(function (s) { return s !== label.text; }));\n                                    }\n                                    else {\n                                        setActiveSeries(activeSeries.concat([label.text]));\n                                    }\n                                } }, { children: [_jsx(\"svg\", __assign({ width: legendGlyphSize, height: legendGlyphSize, cursor: \"pointer\" }, { children: isValidElement\n                                            ? React.cloneElement(shape, legendGlyphConfig)\n                                            : React.createElement(shape, legendGlyphConfig) }), void 0),\n                                    _jsx(LegendLabel, __assign({ className: activeSeries.includes(label.text)\n                                            ? \"text-dark\"\n                                            : \"text-muted\", style: { cursor: \"pointer\" } }, { children: label.text }), void 0)] }), label.text));\n                        });\n                    } }), void 0) }), void 0)] }, void 0));\n};\n//# sourceMappingURL=ScatterPlot.js.map"]},"metadata":{},"sourceType":"module"}