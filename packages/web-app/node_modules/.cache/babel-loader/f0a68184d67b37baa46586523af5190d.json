{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Group } from \"@visx/group\";\nimport { ViolinPlot, BoxPlot } from \"@visx/stats\";\nimport { scaleBand, scaleLinear } from \"@visx/scale\";\nimport genStats from \"@visx/mock-data/lib/generators/genStats\";\nimport { withTooltip, Tooltip, defaultStyles as defaultTooltipStyles } from \"@visx/tooltip\";\nimport { PatternLines } from \"@visx/pattern\";\nimport { AnimatedAxis } from \"@visx/react-spring\";\nimport { Orientation } from \"@visx/axis\";\nimport { ParentSize } from \"@visx/responsive\";\nvar data = genStats(4);\nconsole.log(data.flatMap(function (d) {\n  return d.boxPlot.outliers;\n}).sort(function (a, b) {\n  return a - b;\n}));\n\nvar x = function (d) {\n  return d.boxPlot.x;\n};\n\nvar min = function (d) {\n  return d.boxPlot.min;\n};\n\nvar max = function (d) {\n  return d.boxPlot.max;\n};\n\nvar median = function (d) {\n  return d.boxPlot.median;\n};\n\nvar firstQuartile = function (d) {\n  return d.boxPlot.firstQuartile;\n};\n\nvar thirdQuartile = function (d) {\n  return d.boxPlot.thirdQuartile;\n};\n\nvar outliers = function (d) {\n  return d.boxPlot.outliers;\n};\n\nexport default withTooltip(function (_a) {\n  var tooltipOpen = _a.tooltipOpen,\n      tooltipLeft = _a.tooltipLeft,\n      tooltipTop = _a.tooltipTop,\n      tooltipData = _a.tooltipData,\n      showTooltip = _a.showTooltip,\n      hideTooltip = _a.hideTooltip;\n  return _jsx(ParentSize, {\n    children: function (parent) {\n      var xMax = parent.width;\n      var yMax = parent.height - 100;\n      var xScale = scaleBand({\n        range: [0, xMax],\n        round: true,\n        domain: data.map(x),\n        padding: 0.8\n      });\n      var values = data.reduce(function (allValues, _a) {\n        var boxPlot = _a.boxPlot;\n        allValues.push.apply(allValues, __spreadArray([boxPlot.max, boxPlot.min], boxPlot.outliers));\n        return allValues;\n      }, []);\n      var minYValue = Math.min.apply(Math, values);\n      var maxYValue = Math.max.apply(Math, values);\n      var yScale = scaleLinear({\n        range: [yMax, 0],\n        round: true,\n        domain: [minYValue, maxYValue],\n        clamp: true,\n        nice: true\n      });\n      var boxWidth = xScale.bandwidth();\n      var constrainedWidth = boxWidth;\n      return _jsxs(\"div\", __assign({\n        style: {\n          position: \"relative\",\n          padding: 20\n        }\n      }, {\n        children: [_jsxs(\"svg\", __assign({\n          width: parent.width,\n          height: parent.height,\n          style: {\n            paddingTop: 10\n          }\n        }, {\n          children: [_jsx(PatternLines, {\n            id: \"hViolinLines\",\n            height: 3,\n            width: 3,\n            stroke: \"rgba(239, 121, 11, 0.325)\",\n            strokeWidth: 1,\n            orientation: [\"horizontal\"]\n          }, void 0), _jsx(AnimatedAxis, {\n            orientation: Orientation.bottom,\n            scale: xScale,\n            top: yMax,\n            animationTrajectory: \"outside\"\n          }, void 0), _jsx(AnimatedAxis, {\n            orientation: Orientation.left,\n            scale: yScale,\n            left: 20,\n            numTicks: 6,\n            tickLabelProps: function () {\n              return {\n                verticalAnchor: \"middle\",\n                textAnchor: \"end\",\n                fontSize: 10\n              };\n            },\n            animationTrajectory: \"outside\"\n          }, void 0), _jsx(Group, {\n            children: data.map(function (d, i) {\n              return _jsxs(\"g\", {\n                children: [_jsx(ViolinPlot, {\n                  data: d.binData,\n                  stroke: \"rgba(239, 121, 11, 0.325)\",\n                  left: xScale(x(d)),\n                  width: constrainedWidth,\n                  valueScale: yScale,\n                  fill: \"url(#hViolinLines)\"\n                }, void 0), _jsx(BoxPlot, {\n                  min: min(d),\n                  max: max(d),\n                  left: xScale(x(d)) + constrainedWidth * 0.25,\n                  firstQuartile: firstQuartile(d),\n                  thirdQuartile: thirdQuartile(d),\n                  median: median(d),\n                  boxWidth: constrainedWidth * 0.5,\n                  fill: \"rgba(239, 123, 11, 0.5)\",\n                  fillOpacity: 0.3,\n                  stroke: \"rgba(239, 123, 11, 0.5)\",\n                  strokeWidth: 2,\n                  valueScale: yScale,\n                  outliers: outliers(d),\n                  minProps: {\n                    onMouseOver: function () {\n                      var _a;\n\n                      showTooltip({\n                        tooltipTop: (_a = yScale(min(d))) !== null && _a !== void 0 ? _a : 0 + 40,\n                        tooltipLeft: xScale(x(d)) + constrainedWidth + 5,\n                        tooltipData: {\n                          min: min(d),\n                          name: x(d)\n                        }\n                      });\n                    },\n                    onMouseLeave: function () {\n                      hideTooltip();\n                    }\n                  },\n                  maxProps: {\n                    onMouseOver: function () {\n                      var _a;\n\n                      showTooltip({\n                        tooltipTop: (_a = yScale(max(d))) !== null && _a !== void 0 ? _a : 0 + 40,\n                        tooltipLeft: xScale(x(d)) + constrainedWidth + 5,\n                        tooltipData: {\n                          max: max(d),\n                          name: x(d)\n                        }\n                      });\n                    },\n                    onMouseLeave: function () {\n                      hideTooltip();\n                    }\n                  },\n                  boxProps: {\n                    onMouseOver: function () {\n                      var _a;\n\n                      showTooltip({\n                        tooltipTop: (_a = yScale(median(d))) !== null && _a !== void 0 ? _a : 0 + 40,\n                        tooltipLeft: xScale(x(d)) + constrainedWidth + 5,\n                        tooltipData: __assign(__assign({}, d.boxPlot), {\n                          name: x(d)\n                        })\n                      });\n                    },\n                    onMouseLeave: function () {\n                      hideTooltip();\n                    }\n                  },\n                  medianProps: {\n                    style: {\n                      stroke: \"rgba(249, 129, 16, 0.667)\"\n                    },\n                    onMouseOver: function () {\n                      var _a;\n\n                      showTooltip({\n                        tooltipTop: (_a = yScale(median(d))) !== null && _a !== void 0 ? _a : 0 + 40,\n                        tooltipLeft: xScale(x(d)) + constrainedWidth + 5,\n                        tooltipData: {\n                          median: median(d),\n                          name: x(d)\n                        }\n                      });\n                    },\n                    onMouseLeave: function () {\n                      hideTooltip();\n                    }\n                  },\n                  outlierProps: {\n                    onMouseOver: function (_a) {\n                      var _b;\n\n                      var target = _a.target;\n                      console.log(target);\n                      showTooltip({\n                        tooltipTop: (_b = yScale(median(d))) !== null && _b !== void 0 ? _b : 0 + 40,\n                        tooltipLeft: xScale(x(d)) + constrainedWidth + 5,\n                        tooltipData: {\n                          median: median(d),\n                          name: x(d)\n                        }\n                      });\n                    },\n                    onMouseLeave: function () {\n                      hideTooltip();\n                    }\n                  }\n                }, void 0)]\n              }, i);\n            })\n          }, void 0)]\n        }), void 0), tooltipOpen && tooltipData && _jsxs(Tooltip, __assign({\n          top: tooltipTop,\n          left: tooltipLeft,\n          style: __assign(__assign({}, defaultTooltipStyles), {\n            backgroundColor: \"#283238\",\n            color: \"white\"\n          })\n        }, {\n          children: [_jsx(\"div\", {\n            children: _jsx(\"strong\", {\n              children: tooltipData.name\n            }, void 0)\n          }, void 0), _jsxs(\"div\", __assign({\n            style: {\n              marginTop: \"5px\",\n              fontSize: \"12px\"\n            }\n          }, {\n            children: [tooltipData.max && _jsxs(\"div\", {\n              children: [\"max: \", tooltipData.max]\n            }, void 0), tooltipData.thirdQuartile && _jsxs(\"div\", {\n              children: [\"third quartile: \", tooltipData.thirdQuartile]\n            }, void 0), tooltipData.median && _jsxs(\"div\", {\n              children: [\"median: \", tooltipData.median]\n            }, void 0), tooltipData.firstQuartile && _jsxs(\"div\", {\n              children: [\"first quartile: \", tooltipData.firstQuartile]\n            }, void 0), tooltipData.min && _jsxs(\"div\", {\n              children: [\"min: \", tooltipData.min]\n            }, void 0)]\n          }), void 0)]\n        }), void 0)]\n      }), void 0);\n    }\n  }, void 0);\n});","map":{"version":3,"sources":["../../src/charts/BoxPlot.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Group } from \"@visx/group\";\nimport { ViolinPlot, BoxPlot } from \"@visx/stats\";\nimport { scaleBand, scaleLinear } from \"@visx/scale\";\nimport genStats from \"@visx/mock-data/lib/generators/genStats\";\nimport { withTooltip, Tooltip, defaultStyles as defaultTooltipStyles } from \"@visx/tooltip\";\nimport { PatternLines } from \"@visx/pattern\";\nimport { AnimatedAxis } from \"@visx/react-spring\";\nimport { Orientation } from \"@visx/axis\";\nimport { ParentSize } from \"@visx/responsive\";\nvar data = genStats(4);\nconsole.log(data.flatMap(function (d) { return d.boxPlot.outliers; }).sort(function (a, b) { return a - b; }));\nvar x = function (d) { return d.boxPlot.x; };\nvar min = function (d) { return d.boxPlot.min; };\nvar max = function (d) { return d.boxPlot.max; };\nvar median = function (d) { return d.boxPlot.median; };\nvar firstQuartile = function (d) { return d.boxPlot.firstQuartile; };\nvar thirdQuartile = function (d) { return d.boxPlot.thirdQuartile; };\nvar outliers = function (d) { return d.boxPlot.outliers; };\nexport default withTooltip(function (_a) {\n    var tooltipOpen = _a.tooltipOpen, tooltipLeft = _a.tooltipLeft, tooltipTop = _a.tooltipTop, tooltipData = _a.tooltipData, showTooltip = _a.showTooltip, hideTooltip = _a.hideTooltip;\n    return (_jsx(ParentSize, { children: function (parent) {\n            var xMax = parent.width;\n            var yMax = parent.height - 100;\n            var xScale = scaleBand({\n                range: [0, xMax],\n                round: true,\n                domain: data.map(x),\n                padding: 0.8,\n            });\n            var values = data.reduce(function (allValues, _a) {\n                var boxPlot = _a.boxPlot;\n                allValues.push.apply(allValues, __spreadArray([boxPlot.max, boxPlot.min], boxPlot.outliers));\n                return allValues;\n            }, []);\n            var minYValue = Math.min.apply(Math, values);\n            var maxYValue = Math.max.apply(Math, values);\n            var yScale = scaleLinear({\n                range: [yMax, 0],\n                round: true,\n                domain: [minYValue, maxYValue],\n                clamp: true,\n                nice: true\n            });\n            var boxWidth = xScale.bandwidth();\n            var constrainedWidth = boxWidth;\n            return (_jsxs(\"div\", __assign({ style: { position: \"relative\", padding: 20 } }, { children: [_jsxs(\"svg\", __assign({ width: parent.width, height: parent.height, style: { paddingTop: 10 } }, { children: [_jsx(PatternLines, { id: \"hViolinLines\", height: 3, width: 3, stroke: \"rgba(239, 121, 11, 0.325)\", strokeWidth: 1, orientation: [\"horizontal\"] }, void 0),\n                            _jsx(AnimatedAxis, { orientation: Orientation.bottom, scale: xScale, top: yMax, animationTrajectory: \"outside\" }, void 0),\n                            _jsx(AnimatedAxis, { orientation: Orientation.left, scale: yScale, left: 20, numTicks: 6, tickLabelProps: function () {\n                                    return {\n                                        verticalAnchor: \"middle\",\n                                        textAnchor: \"end\",\n                                        fontSize: 10\n                                    };\n                                }, animationTrajectory: \"outside\" }, void 0),\n                            _jsx(Group, { children: data.map(function (d, i) { return (_jsxs(\"g\", { children: [_jsx(ViolinPlot, { data: d.binData, stroke: \"rgba(239, 121, 11, 0.325)\", left: xScale(x(d)), width: constrainedWidth, valueScale: yScale, fill: \"url(#hViolinLines)\" }, void 0),\n                                        _jsx(BoxPlot, { min: min(d), max: max(d), left: xScale(x(d)) + constrainedWidth * 0.25, firstQuartile: firstQuartile(d), thirdQuartile: thirdQuartile(d), median: median(d), boxWidth: constrainedWidth * 0.5, fill: \"rgba(239, 123, 11, 0.5)\", fillOpacity: 0.3, stroke: \"rgba(239, 123, 11, 0.5)\", strokeWidth: 2, valueScale: yScale, outliers: outliers(d), minProps: {\n                                                onMouseOver: function () {\n                                                    var _a;\n                                                    showTooltip({\n                                                        tooltipTop: (_a = yScale(min(d))) !== null && _a !== void 0 ? _a : 0 + 40,\n                                                        tooltipLeft: xScale(x(d)) + constrainedWidth + 5,\n                                                        tooltipData: {\n                                                            min: min(d),\n                                                            name: x(d)\n                                                        }\n                                                    });\n                                                },\n                                                onMouseLeave: function () {\n                                                    hideTooltip();\n                                                }\n                                            }, maxProps: {\n                                                onMouseOver: function () {\n                                                    var _a;\n                                                    showTooltip({\n                                                        tooltipTop: (_a = yScale(max(d))) !== null && _a !== void 0 ? _a : 0 + 40,\n                                                        tooltipLeft: xScale(x(d)) + constrainedWidth + 5,\n                                                        tooltipData: {\n                                                            max: max(d),\n                                                            name: x(d)\n                                                        }\n                                                    });\n                                                },\n                                                onMouseLeave: function () {\n                                                    hideTooltip();\n                                                }\n                                            }, boxProps: {\n                                                onMouseOver: function () {\n                                                    var _a;\n                                                    showTooltip({\n                                                        tooltipTop: (_a = yScale(median(d))) !== null && _a !== void 0 ? _a : 0 + 40,\n                                                        tooltipLeft: xScale(x(d)) + constrainedWidth + 5,\n                                                        tooltipData: __assign(__assign({}, d.boxPlot), { name: x(d) })\n                                                    });\n                                                },\n                                                onMouseLeave: function () {\n                                                    hideTooltip();\n                                                }\n                                            }, medianProps: {\n                                                style: {\n                                                    stroke: \"rgba(249, 129, 16, 0.667)\"\n                                                },\n                                                onMouseOver: function () {\n                                                    var _a;\n                                                    showTooltip({\n                                                        tooltipTop: (_a = yScale(median(d))) !== null && _a !== void 0 ? _a : 0 + 40,\n                                                        tooltipLeft: xScale(x(d)) + constrainedWidth + 5,\n                                                        tooltipData: {\n                                                            median: median(d),\n                                                            name: x(d)\n                                                        }\n                                                    });\n                                                },\n                                                onMouseLeave: function () {\n                                                    hideTooltip();\n                                                }\n                                            }, outlierProps: {\n                                                onMouseOver: function (_a) {\n                                                    var _b;\n                                                    var target = _a.target;\n                                                    console.log(target);\n                                                    showTooltip({\n                                                        tooltipTop: (_b = yScale(median(d))) !== null && _b !== void 0 ? _b : 0 + 40,\n                                                        tooltipLeft: xScale(x(d)) + constrainedWidth + 5,\n                                                        tooltipData: {\n                                                            median: median(d),\n                                                            name: x(d)\n                                                        }\n                                                    });\n                                                },\n                                                onMouseLeave: function () {\n                                                    hideTooltip();\n                                                }\n                                            } }, void 0)] }, i)); }) }, void 0)] }), void 0),\n                    tooltipOpen && tooltipData && (_jsxs(Tooltip, __assign({ top: tooltipTop, left: tooltipLeft, style: __assign(__assign({}, defaultTooltipStyles), { backgroundColor: \"#283238\", color: \"white\" }) }, { children: [_jsx(\"div\", { children: _jsx(\"strong\", { children: tooltipData.name }, void 0) }, void 0),\n                            _jsxs(\"div\", __assign({ style: { marginTop: \"5px\", fontSize: \"12px\" } }, { children: [tooltipData.max && _jsxs(\"div\", { children: [\"max: \", tooltipData.max] }, void 0),\n                                    tooltipData.thirdQuartile && (_jsxs(\"div\", { children: [\"third quartile: \", tooltipData.thirdQuartile] }, void 0)),\n                                    tooltipData.median && (_jsxs(\"div\", { children: [\"median: \", tooltipData.median] }, void 0)),\n                                    tooltipData.firstQuartile && (_jsxs(\"div\", { children: [\"first quartile: \", tooltipData.firstQuartile] }, void 0)),\n                                    tooltipData.min && _jsxs(\"div\", { children: [\"min: \", tooltipData.min] }, void 0)] }), void 0)] }), void 0))] }), void 0));\n        } }, void 0));\n});\n//# sourceMappingURL=BoxPlot.js.map"]},"metadata":{},"sourceType":"module"}