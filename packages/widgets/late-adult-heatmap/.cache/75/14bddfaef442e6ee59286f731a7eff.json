{"id":"km2p","dependencies":[{"name":"/Users/federico/git/test/impc-mousephenotype-web/packages/widgets/late-adult-heatmap/package.json","includedInParent":true,"mtime":1614274202977},{"name":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@impc/components/package.json","includedInParent":true,"mtime":1614270440882},{"name":"react/jsx-runtime","loc":{"line":1,"column":43},"parent":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@impc/components/lib-esm/charts/ScatterPlot.js","resolved":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/react/jsx-runtime.js"},{"name":"react","loc":{"line":2,"column":32},"parent":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@impc/components/lib-esm/charts/ScatterPlot.js","resolved":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/react/index.js"},{"name":"@visx/scale","loc":{"line":3,"column":29},"parent":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@impc/components/lib-esm/charts/ScatterPlot.js","resolved":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@visx/scale/esm/index.js"},{"name":"@visx/xychart","loc":{"line":4,"column":120},"parent":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@impc/components/lib-esm/charts/ScatterPlot.js","resolved":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@visx/xychart/esm/index.js"},{"name":"@visx/legend","loc":{"line":5,"column":55},"parent":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@impc/components/lib-esm/charts/ScatterPlot.js","resolved":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@visx/legend/esm/index.js"},{"name":"@visx/glyph","loc":{"line":6,"column":56},"parent":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@impc/components/lib-esm/charts/ScatterPlot.js","resolved":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@visx/glyph/esm/index.js"},{"name":"./ScatterPlot.css","loc":{"line":7,"column":7},"parent":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@impc/components/lib-esm/charts/ScatterPlot.js","resolved":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@impc/components/lib-esm/charts/ScatterPlot.css"},{"name":"@visx/responsive","loc":{"line":8,"column":27},"parent":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@impc/components/lib-esm/charts/ScatterPlot.js","resolved":"/Users/federico/git/test/impc-mousephenotype-web/node_modules/@visx/responsive/esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ScatterPlot=void 0;var e=require(\"react/jsx-runtime\"),t=l(require(\"react\")),i=require(\"@visx/scale\"),r=require(\"@visx/xychart\"),s=require(\"@visx/legend\"),a=require(\"@visx/glyph\");require(\"./ScatterPlot.css\");var n=require(\"@visx/responsive\");function o(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,t&&t.set(e,i),i}const d=20,c={xAccessor:e=>e?new Date(e.x):new Date,yAccessor:e=>e.y},u=o=>{const{xAxisLabel:l,yAxisLabel:d,series:u,window:p}=o,x=u.map(({seriesName:e})=>e);p&&x.push(\"Window\");const[h,m]=(0,t.useState)(x),g=(0,i.scaleOrdinal)({domain:x,range:x.map(e=>\"Window\"===e?\"rgba(124, 124, 124, 0.5)\":e.includes(\"WT\")?\"rgba(9, 120, 161, 0.5)\":\"rgba(239, 123, 11, 0.5)\")}),f=(0,i.scaleOrdinal)({domain:x,range:x.map(t=>\"Window\"===t?(0,e.jsx)(a.GlyphSquare,{fill:g(t),stroke:g(t)},t):t.includes(\"Female\")?(0,e.jsx)(a.GlyphCircle,{fill:g(t),stroke:g(t)},t):(0,e.jsx)(a.GlyphTriangle,{fill:g(t),stroke:g(t)},t))}),v=(0,r.buildChartTheme)({backgroundColor:\"white\",colors:g.range(),tickLength:5,gridColor:\"gray\",gridColorDark:\"\",gridStyles:{strokeWidth:1}});return(0,e.jsxs)(\"div\",{children:[(0,e.jsx)(n.ParentSize,{children:t=>(0,e.jsxs)(r.XYChart,Object.assign({height:300,width:t.width-20,xScale:{type:\"time\",clamp:!0,nice:!0},yScale:{type:\"linear\",nice:!0},theme:v},{children:[(0,e.jsx)(r.AnimatedAxis,{orientation:\"bottom\",label:l,hideZero:!0},void 0),(0,e.jsx)(r.AnimatedAxis,{orientation:\"left\",label:d,hideZero:!0},void 0),(0,e.jsx)(r.AnimatedGrid,{columns:!1,numTicks:4,lineStyle:{strokeWidth:\"1px\",stroke:\"lightgray\"}},void 0),u.map(t=>(0,e.jsx)(r.AnimatedGlyphSeries,Object.assign({dataKey:t.seriesName,data:h.includes(t.seriesName)?t.data:[]},c,{renderGlyph:()=>f(t.seriesName)}),t.seriesName)),p?(0,e.jsx)(r.AnimatedLineSeries,Object.assign({dataKey:\"Window\",data:h.includes(\"Window\")?p:[],stroke:g(\"Window\")},c),void 0):null,(0,e.jsx)(r.Tooltip,{snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,showDatumGlyph:!0,showVerticalCrosshair:!0,renderTooltip:({tooltipData:t,colorScale:i})=>{var r;if(\"Window\"!==(null===(r=null==t?void 0:t.nearestDatum)||void 0===r?void 0:r.key))return t&&t.nearestDatum&&t.nearestDatum.datum&&i?(0,e.jsxs)(\"div\",{children:[(0,e.jsx)(\"div\",Object.assign({style:{color:i(t.nearestDatum.key)}},{children:t.nearestDatum.key}),void 0),c.xAccessor(t.nearestDatum.datum).toDateString(),\", \",c.yAccessor(t.nearestDatum.datum)]},void 0):void 0}},void 0)]}),void 0)},void 0),(0,e.jsx)(\"div\",Object.assign({style:{width:\"100%\",display:\"flex\",justifyContent:\"center\",fontSize:\"14px\"}},{children:(0,e.jsx)(s.LegendOrdinal,Object.assign({scale:f,direction:\"row\",shapeHeight:20,shapeWidth:20,labelMargin:\"10px\",labelAlign:\"center\"},{children:i=>i.map(i=>{const r=f(i.datum),a=t.default.isValidElement(r),n=g(i.datum),o={fill:h.includes(i.text)?n:\"#ffffff\",top:10,left:10};return(0,e.jsxs)(s.LegendItem,Object.assign({onClick:()=>{h.includes(i.text)?m(h.filter(e=>e!==i.text)):m(h.concat([i.text]))}},{children:[(0,e.jsx)(\"svg\",Object.assign({width:20,height:20,cursor:\"pointer\"},{children:a?t.default.cloneElement(r,o):t.default.createElement(r,o)}),void 0),(0,e.jsx)(s.LegendLabel,Object.assign({className:h.includes(i.text)?\"text-dark\":\"text-muted\",style:{cursor:\"pointer\"}},{children:i.text}),void 0)]}),i.text)})}),void 0)}),void 0)]},void 0)};exports.ScatterPlot=u;"},"sourceMaps":null,"error":null,"hash":"c64d9219b4de060df834b26497751684","cacheData":{"env":{}}}